{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = (a0, a1) => ({\n  \"available\": a0,\n  \"booked\": a1\n});\nfunction AppComponent_div_18_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const seat_r1 = ctx.$implicit;\n    const seatIndex_r2 = ctx.index;\n    const rowIndex_r3 = i0.ɵɵnextContext().index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngclass\", i0.ɵɵpureFunction2(2, _c0, seat_r1 === 0, seat_r1 === 1));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.rowLabels[rowIndex_r3] + (seatIndex_r2 + 1), \" \");\n  }\n}\nfunction AppComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"span\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AppComponent_div_18_div_3_Template, 2, 5, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    const rowIndex_r3 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.rowLabels[rowIndex_r3]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngforOf\", row_r5);\n  }\n}\nfunction AppComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\", 14);\n    i0.ɵɵtext(2, \"Seats Booked:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.currentBookedSeats.join(\", \"));\n  }\n}\n// export class AppComponent  {\n//   name = 'Angular';\n// }\n// @Component({\n//   selector: 'app-root',\n//   templateUrl: './app.component.html',\n//   styleUrls: ['./app.component.css'],\n// })\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.seating = Array.from({\n        length: 11\n      }, () => Array(7).fill(0)).concat([Array(3).fill(0)]);\n      this.rowLabels = Array.from({\n        length: 12\n      }, (_, i) => String.fromCharCode(65 + i));\n      this.currentBookedSeats = [];\n      this.seatsRequested = 0;\n    }\n    bookSeats() {\n      if (this.seatsRequested < 1 || this.seatsRequested > 7) {\n        alert('Please request between 1 and 7 seats.');\n        return;\n      }\n      let totalSeatsAvailable = this.seating.flat().filter(seat => seat === 0).length;\n      if (this.seatsRequested > totalSeatsAvailable) {\n        alert('Not enough seats available.');\n        return;\n      }\n      let seatsToBook = [];\n      let seatsRequestedCopy = this.seatsRequested;\n      // Priority 1: Try booking in one row\n      for (let rowIndex = 0; rowIndex < this.seating.length; rowIndex++) {\n        let availableSeats = this.seating[rowIndex].map((seat, index) => seat === 0 ? index : null).filter(index => index !== null);\n        if (availableSeats.length >= seatsRequestedCopy) {\n          for (let i = 0; i < seatsRequestedCopy; i++) {\n            this.seating[rowIndex][availableSeats[i]] = 1;\n            seatsToBook.push(`${this.rowLabels[rowIndex]}${availableSeats[i] + 1}`);\n          }\n          this.currentBookedSeats = seatsToBook;\n          return;\n        }\n      }\n      // Priority 2: Book nearby seats across rows\n      for (let rowIndex = 0; rowIndex < this.seating.length; rowIndex++) {\n        let availableSeats = this.seating[rowIndex].map((seat, index) => seat === 0 ? index : null).filter(index => index !== null);\n        for (let seatIndex of availableSeats) {\n          if (seatsRequestedCopy > 0) {\n            this.seating[rowIndex][seatIndex] = 1;\n            seatsToBook.push(`${this.rowLabels[rowIndex]}${seatIndex + 1}`);\n            seatsRequestedCopy--;\n          } else {\n            this.currentBookedSeats = seatsToBook;\n            return;\n          }\n        }\n      }\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || AppComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"my-app\"]],\n        decls: 20,\n        vars: 3,\n        consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"container\"], [1, \"input-section\"], [\"for\", \"seatsRequested\"], [\"type\", \"number\", \"id\", \"seatsRequested\", \"min\", \"1\", \"max\", \"7\", 3, \"ngModelChange\", \"ngModel\"], [3, \"click\"], [\"class\", \"row\", 4, \"ngfor\", \"ngforOf\"], [4, \"ngif\"], [1, \"row\"], [1, \"row-label\"], [\"class\", \"seat\", 3, \"ngclass\", 4, \"ngfor\", \"ngforOf\"], [1, \"seat\", 3, \"ngclass\"], [2, \"text-align\", \"left\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n            i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n            i0.ɵɵelementStart(4, \"title\");\n            i0.ɵɵtext(5, \"Train Reservation System\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"body\")(7, \"div\", 3)(8, \"h1\");\n            i0.ɵɵtext(9, \"Train Reservation System\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 5);\n            i0.ɵɵtext(12, \"Number of seats to book : \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"input\", 6);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_13_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.seatsRequested, $event) || (ctx.seatsRequested = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_14_listener() {\n              return ctx.bookSeats();\n            });\n            i0.ɵɵtext(15, \"Book Seats\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"h3\");\n            i0.ɵɵtext(17, \"Seating Arrangement:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(18, AppComponent_div_18_Template, 4, 2, \"div\", 8)(19, AppComponent_div_19_Template, 5, 1, \"div\", 9);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(13);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.seatsRequested);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngforOf\", ctx.seating);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngif\", ctx.currentBookedSeats.length > 0);\n          }\n        },\n        styles: [\"body[_ngcontent-%COMP%]{margin:0;background-image:url(https://img.onmanorama.com/content/dam/mm/en/career-and-campus/top-news/images/2024/1/27/indian-railway-train.jpg/photos/16x9/photo.jpg);background-size:cover;background-position:left;background-repeat:repeat-y;font-family:Arial,sans-serif}.container[_ngcontent-%COMP%]{text-align:center;padding:20px;border-radius:8px;width:80%;max-width:600px}.input-section[_ngcontent-%COMP%]{margin-bottom:20px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.seat[_ngcontent-%COMP%]{width:30px;height:30px;display:inline-block;text-align:center;line-height:30px;border:5px solid #ccc;cursor:pointer;font-size:12px}.available[_ngcontent-%COMP%]{background-color:#dff0d8}.booked[_ngcontent-%COMP%]{background-color:#f87d24;cursor:not-allowed}.row-label[_ngcontent-%COMP%]{margin-right:10px;display:inline-block;width:20px;text-align:center;font-weight:700}button[_ngcontent-%COMP%]{margin:10px;padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px}button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;margin:-1px;border:0;padding:0;white-space:nowrap;clip-path:inset(100%);clip:rect(0 0 0 0);overflow:hidden}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}